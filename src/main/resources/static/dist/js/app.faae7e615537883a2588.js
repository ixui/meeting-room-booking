webpackJsonp([1],{117:function(e,t,n){"use strict";var r=n(2),o=n(319),i=n(217),s=n.n(i),a=n(220),l=n.n(a),u=n(232),c=(n.n(u),n(314)),m=n.n(c);r.default.use(s.a,{locale:l.a}),r.default.use(o.a),t.a=new o.a({mode:"history",base:"/admin/index/",routes:[{path:"/",name:"Admin",component:m.a}]})},118:function(e,t,n){"use strict";var r=n(2),o=n(68),i=n(163);r.default.use(o.a);var s=new o.a.Store({modules:{user:i.a}});t.a=s},119:function(e,t,n){function r(e){n(233)}var o=n(67)(n(165),n(316),r,null,null);e.exports=o.exports},161:function(e,t,n){"use strict";var r=n(170),o=n.n(r),i=n(142),s=n.n(i),a=function(e){return o.a.reject(e.message||"ERROR")};t.a={getUsers:function(){return s.a.get("/admin/user").then(function(e){return e.data})},getUser:function(e){return s.a.get("/admin/user/"+e,e).then(function(e){return e.data})},postUser:function(e,t){return s.a.post("/admin/user",t).then(function(e){return e.data}).catch(a)},putUser:function(e,t){return s.a.put("/admin/user/"+e,t).then(function(e){return e.data}).catch(a)},deleteUser:function(e){return s.a.delete("/admin/user",e).then(function(e){return e.data}).catch(a)}}},162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(119),i=n.n(o),s=n(117),a=n(118);r.default.config.productionTip=!1,new r.default({el:"#app",router:s.a,store:a.a,template:"<App/>",components:{App:i.a}})},163:function(e,t,n){"use strict";var r=n(173),o=n.n(r),i=n(161),s=n(164),a=n(311),l=(n.n(a),{namespaced:!0,state:{users:[],errorMessage:""},getters:{error:function(e){return e.error},orderList:function(e){return function(t){return n.i(a.orderBy)(e.users,t,"asc")}},findIndexById:function(e){return function(t){return n.i(a.findIndex)(e.users,function(e){return e.empNo===empNo})}},findUserById:function(e){return function(t){return n.i(a.find)(e.users,function(e){return e.empNo===t})}}},mutations:o()({},s.a,function(e,t){e.users=t}),actions:{load:function(e){var t=e.commit;return i.a.getUsers().then(function(e){t(s.a,e)})},save:function(e,t){var n=e.commit,r=t.user;return(t.editFlg?i.a.putUser:i.a.postUser)(r.empNo,r).then(function(e){n("types.SET_USERS",e)}).catch(function(e){alert(e)})},delete:function(e,t){var n=e.commit,r=t.empNoList;i.a.deleteUser(r).then(function(e){n("types.SET_USERS",e)}).catch(function(e){alert(e)})}}});t.a=l},164:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="SET_USERS"},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),o=n.n(r),i=n(68),s=n(315),a=n.n(s);t.default={name:"admin",data:function(){return{empNo:null,dialogFormVisible:!1,multipleSelection:[]}},computed:o()({},n.i(i.b)("user",["users"])),methods:{edit:function(e,t){this.dialogFormVisible=!0,this.empNo=t.empNo},createUser:function(){this.dialogFormVisible=!0},deleteUser:function(){var e=this;if(this.multipleSelection.length>0){var t;this.multipleSelection.forEach(function(e,n,r){t.push(e.empNo)}),this.$store.dispatch("user/delete",{user:this.form,editFlg:null!=this.empNo}).then(function(){e.error||e.$emit("close")})}},handleSelectionChange:function(e){this.multipleSelection=e}},created:function(){this.$store.dispatch("user/load").then(function(){}).catch(function(e){console.log(e)})},components:{UserModal:a.a}}},167:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),o=n.n(r),i=n(68),s=n(308),a=n.n(s);t.default={name:"user-modal",props:{empNo:String,dialogFormVisible:Boolean},data:function(){return{form:{empNo:"",name:"",pass:"",confirmPass:"",auth:""},rules:{empNo:[{required:!0,message:"入力してください。",trigger:"blur"}],name:[{required:!0,message:"入力してください。",trigger:"blur"}],pass:[{required:!0,message:"入力してください。",trigger:"blur"},{min:8,message:"8文字以上で入力してください。",trigger:"blur"}],confirmPass:[{required:!0,message:"入力してください。",trigger:"blur"},{min:3,message:"8文字以上で入力してください。",trigger:"blur"}],auth:[{required:!0,message:"入力してください。",trigger:"blur"}]},addFlg:!1}},computed:o()({title:function(){return null!=this.empNo?"編集":"追加"}},n.i(i.c)("user",["findUserById","error"])),methods:{onSaveUser:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$store.dispatch("user/save",{user:t.form,editFlg:null!=t.empNo}).then(function(){t.error||t.$emit("close")})})},handleClose:function(e){this.$refs[e].resetFields(),this.$emit("close")}},created:function(){null!=this.empNo&&(this.form=a()(this.findUserById(this.empNo)))}}},232:function(e,t){},233:function(e,t){},234:function(e,t){},314:function(e,t,n){function r(e){n(234)}var o=n(67)(n(166),n(317),r,"data-v-51269e00",null);e.exports=o.exports},315:function(e,t,n){var r=n(67)(n(167),n(318),null,null,null);e.exports=r.exports},316:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},317:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{align:"center",id:"admin"}},[n("div",{attrs:{id:"resultTable"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:null!=e.users,expression:"users != null"}],staticClass:"table-responsive col-sm-offset-3 col-sm-6",attrs:{align:"center"}},[n("form",{attrs:{action:"/admin/delete",method:"post",id:"userDeleteForm"}},[n("el-table",{ref:"multipleTable",staticStyle:{width:"50%"},attrs:{data:e.users,border:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection","min-width":"50",value:"empNo"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"empNo",label:"社員番号","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"名前","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{prop:"auth",label:"権限","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{label:"","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){e.edit(t.$index,t.row)}}},[e._v("編集")])]}}])})],1)],1),e._v(" "),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.createUser()}}},[e._v("新規登録")]),e._v(" "),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.deleteUser()}}},[e._v("削除")])],1)]),e._v(" "),e.dialogFormVisible?n("user-modal",{attrs:{empNo:e.empNo,dialogFormVisible:e.dialogFormVisible},on:{close:function(t){e.dialogFormVisible=!1}}}):e._e()],1)},staticRenderFns:[]}},318:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"title",width:"30%",visible:e.dialogFormVisible,"before-close":e.handleClose("form")}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[n("el-form-item",{attrs:{label:"社員番号","label-width":e.formLabelWidth,visible:null==e.empNo,prop:"empNo"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.empNo,callback:function(t){e.form.empNo=t},expression:"form.empNo"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"氏名","label-width":e.formLabelWidth,prop:"name"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.form.name=t},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"パスワード","label-width":e.formLabelWidth,visible:null==e.empNo,prop:"pass"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.pass,callback:function(t){e.form.pass=t},expression:"form.pass"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"パスワード(確認)","label-width":e.formLabelWidth,visible:null==e.empNo,prop:"confirmPass"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.confirmPass,callback:function(t){e.form.confirmPass=t},expression:"form.confirmPass"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"権限","label-width":e.formLabelWidth,prop:"auth"}},[n("el-select",{attrs:{placeholder:"Please select"},model:{value:e.form.auth,callback:function(t){e.form.auth=t},expression:"form.auth"}},[n("el-option",{attrs:{label:"一般ユーザ",value:"ROLE_USER"}}),e._v(" "),n("el-option",{attrs:{label:"管理者",value:"ROLE_ADMIN"}})],1)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{on:{click:function(t){e.handleClose("form")}}},[e._v("Cancel")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSaveUser("form")}}},[e._v("Register")])],1)],1)},staticRenderFns:[]}}},[162]);
//# sourceMappingURL=app.faae7e615537883a2588.js.map