webpackJsonp([1],{117:function(e,t,n){"use strict";var o=n(2),r=n(319),a=n(217),s=n.n(a),i=n(220),l=n.n(i),u=n(232),c=(n.n(u),n(314)),d=n.n(c);o.default.use(s.a,{locale:l.a}),o.default.use(r.a),t.a=new r.a({mode:"history",base:"/admin/index/",routes:[{path:"/",name:"Admin",component:d.a}]})},118:function(e,t,n){"use strict";var o=n(2),r=n(68),a=n(163);o.default.use(r.a);var s=new r.a.Store({modules:{user:a.a}});t.a=s},119:function(e,t,n){function o(e){n(233)}var r=n(67)(n(165),n(316),o,null,null);e.exports=r.exports},161:function(e,t,n){"use strict";var o=n(170),r=n.n(o),a=n(142),s=n.n(a),i=function(e){return r.a.reject(e.message||"ERROR")};t.a={getUsers:function(){return s.a.get("/admin/user").then(function(e){return e.data})},getUser:function(e){return s.a.get("/admin/user/"+e,{empNo:e}).then(function(e){return e.data})},postUser:function(e,t){return demox.post("/admin/user",{user:t}).then(function(e){return e.data}).catch(i)},putUser:function(e,t){return demox.put("/admin/user/"+e,{user:t}).then(function(e){return e.data}).catch(i)},deleteUser:function(e){return demox.delete("/admin/user/"+e,{empNo:e}).then().catch(i)}}},162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(119),a=n.n(r),s=n(117),i=n(118);o.default.config.productionTip=!1,new o.default({el:"#app",router:s.a,store:i.a,template:"<App/>",components:{App:a.a}})},163:function(e,t,n){"use strict";var o,r=n(173),a=n.n(r),s=n(161),i=n(164),l=n(311),u=(n.n(l),{namespaced:!0,state:{users:[],errorMessage:""},getters:{error:function(e){return e.error},orderList:function(e){return function(t){return n.i(l.orderBy)(e.users,t,"asc")}},findIndexById:function(e){return function(t){return n.i(l.findIndex)(e.users,function(e){return e.empNo===empNo})}},findUserById:function(e){return function(t){return n.i(l.find)(e.users,function(e){return e.empNo===t})}}},mutations:(o={},a()(o,i.a,function(e,t){e.users=t}),a()(o,i.b,function(e,t){e.users.push(t)}),a()(o,i.c,function(e,t){var o=n.i(l.findIndex)(e.users,function(e){return e.empNo===t.empNo});Vue.set(e.users,o,t)}),o),actions:{load:function(e){var t=e.commit;return s.a.getUsers().then(function(e){t(i.a,e)})},save:function(e,t){var n=e.commit,o=t.user,r=t.editFlg;return(r?s.a.putUser:s.a.postUser)(o.empNo,o).then(function(e){r?n("update",e):n("add",e)}).catch(function(e){n("setError",e)})}}});t.a=u},164:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a});var o="SET_USERS",r="ADD_USER",a="UPDATE_USER"},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(25),r=n.n(o),a=n(68),s=n(315),i=n.n(s);t.default={name:"admin",data:function(){return{empNo:null,dialogFormVisible:!1}},computed:r()({},n.i(a.b)("user",["users"])),methods:{edit:function(e,t){this.dialogFormVisible=!0,this.empNo=t.empNo,console.log(e,t.empNo)},handleDelete:function(e,t){console.log(e,t)}},created:function(){this.$store.dispatch("user/load").then(function(){}).catch(function(e){console.log(e)})},components:{UserModal:i.a}}},167:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(25),r=n.n(o),a=n(68),s=n(308),i=n.n(s);t.default={name:"user-modal",props:{empNo:String,dialogFormVisible:Boolean},data:function(){return{form:{empNo:"",name:"",password:"",passwordConf:"",auth:""},addFlg:!1}},computed:r()({title:function(){return null!=this.empNo?"編集":"追加"}},n.i(a.c)("user",["findUserById","error"])),methods:{onSaveUser:function(){var e=this;this.$store.dispatch("user/save",{user:this.form,editFlg:null!=this.empNo}).then(function(){e.error||e.$emit("close")})},handleClose:function(){this.$emit("close")}},created:function(){null!=this.empNo&&(this.form=i()(this.findUserById(this.empNo)))}}},232:function(e,t){},233:function(e,t){},234:function(e,t){},314:function(e,t,n){function o(e){n(234)}var r=n(67)(n(166),n(317),o,"data-v-51269e00",null);e.exports=r.exports},315:function(e,t,n){var o=n(67)(n(167),n(318),null,null,null);e.exports=o.exports},316:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},317:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{align:"center",id:"admin"}},[n("div",{attrs:{id:"resultTable"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:null!=e.users,expression:"users != null"}],staticClass:"table-responsive col-sm-offset-3 col-sm-6",attrs:{align:"center"}},[n("form",{attrs:{action:"/admin/delete",method:"post",id:"userDeleteForm"}},[n("el-table",{ref:"multipleTable",staticStyle:{width:"50%"},attrs:{data:e.users,border:""}},[n("el-table-column",{attrs:{type:"selection","min-width":"50"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"empNo",label:"社員番号","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"名前","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{prop:"auth",label:"権限","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{label:"","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){e.edit(t.$index,t.row)}}},[e._v("編集")])]}}])})],1)],1),e._v(" "),n("button",{staticClass:"btn btn-default btn-sm active",attrs:{type:"button",id:"register"}},[e._v("新規登録")]),e._v(" "),n("button",{staticClass:"btn btn-default btn-sm active",attrs:{type:"button",id:"delete"}},[e._v("削除")])])]),e._v(" "),e.dialogFormVisible?n("user-modal",{attrs:{empNo:e.empNo,dialogFormVisible:e.dialogFormVisible},on:{close:function(t){e.dialogFormVisible=!1}}}):e._e()],1)},staticRenderFns:[]}},318:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"title",width:"30%",visible:e.dialogFormVisible,"before-close":e.handleClose}},[n("el-form",{attrs:{model:e.form}},[n("el-form-item",{attrs:{label:"社員番号","label-width":e.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.empNo,callback:function(t){e.form.empNo=t},expression:"form.empNo"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"氏名","label-width":e.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.form.name=t},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"パスワード","label-width":e.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.password,callback:function(t){e.form.password=t},expression:"form.password"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"パスワード(確認)","label-width":e.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.passwordConf,callback:function(t){e.form.passwordConf=t},expression:"form.passwordConf"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"権限","label-width":e.formLabelWidth}},[n("el-select",{attrs:{placeholder:"Please select"},model:{value:e.form.auth,callback:function(t){e.form.auth=t},expression:"form.auth"}},[n("el-option",{attrs:{label:"一般ユーザ",value:"ROLE_USER"}}),e._v(" "),n("el-option",{attrs:{label:"管理者",value:"ROLE_ADMIN"}})],1)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{on:{click:function(t){e.$emit("close")}}},[e._v("Cancel")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.onSaveUser}},[e._v("Register")])],1)],1)},staticRenderFns:[]}}},[162]);
//# sourceMappingURL=app.5857fa09ccc718a7375d.js.map